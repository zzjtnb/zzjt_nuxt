---
title:  HTML5 Web存储
img: 
categories: 前端
tags:
  -  HTML5
  -  Web存储
---

<div id="articleInfo">
<h3 id="html5-web存储localstorage与sessionstorage" style="box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; line-height: 1.6; color: rgb(44, 63, 81); margin: 1.2em 0px 0.6em; font-size: 1.7em; widows: 1; outline: none !important;">HTML5 Web存储（localStorage与sessionStorage）</h3>
<blockquote style="box-sizing: border-box; padding: 15px 20px; margin: 0px 0px 1.1em; border-left: 10px solid rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; line-height: 25.6px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;">
<p style="box-sizing: border-box; margin: 0px; font-size: 1em; line-height: 1.6; outline: none !important;">localStorage用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的；sessionStorage用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。因此sessionStorage不是一种持久化的本地存储，仅仅是会话级别的存储。之前，这些都是由cookie完成的。但是cookie不适合大量数据的存储，因为它们由每个对服务器的请求来传递，这使得cookie 速度很慢而且效率也不高。简单的说本地存储是HTML5的一部分。更为详细准确的说是本地存储过去是HTML5的标准中的一部分，而后来由于有些工作组的人表示HTML5太庞大了，于是就剥离出来作为一个单独的标准。</p>
</blockquote><hr style="box-sizing: content-box; height: 0px; margin: 2em 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-top-color: rgba(102, 128, 153, 0.0980392); line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">
<blockquote style="box-sizing: border-box; padding: 15px 20px; margin: 0px 0px 1.1em; border-left: 10px solid rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; line-height: 25.6px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;">
<p style="box-sizing: border-box; margin: 0px; font-size: 1em; line-height: 1.6; outline: none !important;">在HTML5中，数据不是由每个服务器请求传递的，而是只有在请求时使用数据。它使在不影响网站性能的情况下存储大量数据成为可能。对于不同的网站，数据存储于不同的区域，并且一个网站只能访问其自身的数据。HTML5 使用JavaScript来存储和访问数据。任何可以物理上能访问你的计算机的人都有可能看看到你的HTML5的本地数据库，在你的浏览器中，任何网站都可以读取和修改他们自己存储的数据，但是不能不同站点的存储数据不能相互访问。</p>
</blockquote><hr style="box-sizing: content-box; height: 0px; margin: 2em 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-top-color: rgba(102, 128, 153, 0.0980392); line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">
<blockquote style="box-sizing: border-box; padding: 15px 20px; margin: 0px 0px 1.1em; border-left: 10px solid rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; line-height: 25.6px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;">
<p style="box-sizing: border-box; margin: 0px; font-size: 1em; line-height: 1.6; outline: none !important;">HTML5 localStorage提供了一种方式让网站能够把信息存储到你本地的计算机上，并再以后需要的时候进行获取。这个概念和cookie相似，区别是它是为了更大容量存储设计的。Cookie的大小是受限的，并且每次你请求一个新的页面的时候cooki都会被发送过去。HTML5的localStorage是存储在你本地的计算机上，网站在页面加载完毕后可以通过Javascript来获取这些数据。</p>
</blockquote>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">一、检测你的浏览器是否支持HTML localStorage特性</p>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">（1）如果你的浏览器支持该特性的话，那么全局对象：window上会有一个localStorage的属性，反之，你的浏览器不支持的话，那么该属性值为undefined。可以封装成一个函数：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs javascript" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;">   <span class="hljs-function" style="box-sizing: border-box; outline: none !important; line-height: 1.6;"><span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">function</span> <span class="hljs-title" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0); font-weight: bold;">supportLocalStorage</span>()</span>{<br style="box-sizing: border-box; outline: none !important;">        <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">return</span> !!<span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">window</span>.localStorage;<br style="box-sizing: border-box; outline: none !important;">   }<br style="box-sizing: border-box; outline: none !important;">   <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">if</span>(!supportLocalStorage()){<br style="box-sizing: border-box; outline: none !important;">        alert(<span class="hljs-string" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0);">"您的浏览器不支持localStorage特性，请更新您的浏览器!"</span><br style="box-sizing: border-box; outline: none !important;">   }<br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">支持localStorage的浏览器：IE 8+, Firefox 3.0+, Safari 4.0+, Chrome 4.0+, Opera 10.5+。</p>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">（2）Modernizr(<a href="http://www.modernizr.com/" target="_blank" style="box-sizing: border-box; outline: none !important; color: rgb(25, 128, 230); text-decoration: none; transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out, border-color 0.15s ease-in-out; background: transparent;">http://www.modernizr.com/</a>)是一个开源的JS库，它使得那些基于访客浏览器的不同（指对新标准支持性的差异）而开发不同级别体验的设计师的工作变得更为简单。它使得设计师可以在支持HTML5和CSS3的浏览器中充分利用HTML5和CSS3的特性进行开发，同时又不会牺牲其他不支持这些新技术的浏览器的控制。modernizr通过JS检测浏览器对HTML5/CSS3的特性支持情况，支持某个属性，就在页面的标签上添加一个相应的class，不支持的话就添加一个no-前缀的class，比如，如果检测的浏览器支持video标签，modernizr就会在标签上添加video类，否则，添加no-video类。可用firebug之类的调试工具查看页面标签中的class。modernizr的用法很简单，仅仅在页面中引入库的js文件即可：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs xml" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;"><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span> <span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">type</span>=<span class="hljs-value" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0);">"text/javascript"</span> <span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">src</span>=<span class="hljs-value" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0);">"modernizr-1.5.js"</span>&gt;</span><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;/<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span>&gt;</span><br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">二、使用Web Storage</p>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">（1）localstorage方法&nbsp;<br style="box-sizing: border-box; outline: none !important;">
localStorage 方法存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。&nbsp;<br style="box-sizing: border-box; outline: none !important;">
localstorage有setItem,getItem,removeItem,key,clear 5个方法，和length一个属性。localStorage中都是以 key/value的形式来存储数据的，存储的数据类型都是字符串，如果需要其他类型，需要自行转换。localStorage方法存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。&nbsp;<br style="box-sizing: border-box; outline: none !important;">
如何创建和访问localStorage：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs bash" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;">   <span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">local</span>Storage.lastname=”Smith”;<br style="box-sizing: border-box; outline: none !important;">   document.write(<span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">local</span>Storage.lastname);<br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">可以像对象字面量那样使用Web Storage：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs actionscript" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;">  localStorage.fresh = “vfresh.org”;   <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//设置一个键值</span><br style="box-sizing: border-box; outline: none !important;">  <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">var</span> a = localStorage.fresh;   <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//获取键值</span><br style="box-sizing: border-box; outline: none !important;">  <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">delete</span> localStorage[  <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//删除键值</span><br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">或者使用它的API：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs gcode" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;">  localStorage.setItem<span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">(“fresh”,“vfresh.org”)</span>; <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//设置一个键值</span><br style="box-sizing: border-box; outline: none !important;">  localStorage.getItem<span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">(“fresh”)</span>; <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//获取一个键值</span><br style="box-sizing: border-box; outline: none !important;">  localStorage.key<span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">(0)</span>; <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//获取指定下标的键的名称（如同Array）</span><br style="box-sizing: border-box; outline: none !important;">  localStorage.removeItem<span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">(“fresh”)</span>; <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//删除一个键值</span><br style="box-sizing: border-box; outline: none !important;">  localStorage.clear<span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">()</span>; <span class="hljs-comment" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 136, 136);">//清空storage</span><br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">字面量方式比API更高效，也更方便.&nbsp;<br style="box-sizing: border-box; outline: none !important;">
下面的例子对用户访问页面的次数进行计数：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs xml" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;"><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span> <span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">type</span>=<span class="hljs-value" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0);">”text</span>/<span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">javascript</span>”&gt;</span><span class="javascript" style="box-sizing: border-box; outline: none !important; line-height: 1.6; opacity: 0.5;"><br style="box-sizing: border-box; outline: none !important;">        <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">if</span> (localStorage.pagecount){<br style="box-sizing: border-box; outline: none !important;">              localStorage.pagecount=<span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">Number</span>(localStorage.pagecount) +<span class="hljs-number" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(0, 136, 0);">1</span>;<br style="box-sizing: border-box; outline: none !important;">        }<span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">else</span>{<br style="box-sizing: border-box; outline: none !important;">              localStorage.pagecount=<span class="hljs-number" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(0, 136, 0);">1</span>;<br style="box-sizing: border-box; outline: none !important;">        }<br style="box-sizing: border-box; outline: none !important;">        <span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">document</span>.write(“Visits “+ localStorage.pagecount + ” time(s).”);<br style="box-sizing: border-box; outline: none !important;">  </span><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;/<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span>&gt;</span><br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">（2）sessionStorage方法&nbsp;<br style="box-sizing: border-box; outline: none !important;">
sessionStorage 方法针对一个session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。&nbsp;<br style="box-sizing: border-box; outline: none !important;">
如何创建并访问一个sessionStorage：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs xml" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;"><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span> <span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">type</span>=<span class="hljs-value" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0);">”text</span>/<span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">javascript</span>”&gt;</span><span class="javascript" style="box-sizing: border-box; outline: none !important; line-height: 1.6; opacity: 0.5;"><br style="box-sizing: border-box; outline: none !important;">        sessionStorage.lastname=”Smith”;<br style="box-sizing: border-box; outline: none !important;">        <span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">document</span>.write(sessionStorage.lastname);<br style="box-sizing: border-box; outline: none !important;"></span><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;/<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span>&gt;</span><br style="box-sizing: border-box; outline: none !important;"></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 1.1em; line-height: 25.6px; color: rgb(44, 63, 81); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; widows: 1; outline: none !important;">下面的例子对用户在当前session 中访问页面的次数进行计数：</p>
<pre class="prettyprint hljs-light" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; margin-top: 0px; margin-bottom: 1.1em; line-height: 1.6; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; widows: 1; background-color: rgba(102, 128, 153, 0.0470588); outline: none !important;"><code class="hljs xml" style="box-sizing: border-box; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(0, 0, 0); border-radius: 0px; display: block; background-color: rgb(240, 240, 240); outline: none !important;"><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span> <span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">type</span>=<span class="hljs-value" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(136, 0, 0);">”text</span>/<span class="hljs-attribute" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">javascript</span>”&gt;</span><span class="javascript" style="box-sizing: border-box; outline: none !important; line-height: 1.6; opacity: 0.5;"><br style="box-sizing: border-box; outline: none !important;">        <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">if</span> (sessionStorage.pagecount){<br style="box-sizing: border-box; outline: none !important;">              sessionStorage.pagecount=<span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">Number</span>(sessionStorage.pagecount) +<span class="hljs-number" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(0, 136, 0);">1</span>;<br style="box-sizing: border-box; outline: none !important;">        }<span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">else</span>{<br style="box-sizing: border-box; outline: none !important;">              sessionStorage.pagecount=<span class="hljs-number" style="box-sizing: border-box; outline: none !important; line-height: 1.6; color: rgb(0, 136, 0);">1</span>;<br style="box-sizing: border-box; outline: none !important;">        }<br style="box-sizing: border-box; outline: none !important;">        <span class="hljs-built_in" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">document</span>.write(“Visits “+sessionStorage.pagecount+” time(s) <span class="hljs-keyword" style="box-sizing: border-box; outline: none !important; line-height: 1.6; font-weight: bold;">this</span> session.”);<br style="box-sizing: border-box; outline: none !important;">  </span><span class="hljs-tag" style="box-sizing: border-box; outline: none !important; line-height: 1.6;">&lt;/<span class="hljs-title" style="box-sizing: border-box; line-height: 1.6; font-weight: bold; outline: none !important;">script</span>&gt;</span></code></pre>
